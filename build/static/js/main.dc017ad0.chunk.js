(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(299)},121:function(e,t,n){},125:function(e,t,n){},159:function(e,t){},161:function(e,t){},224:function(e,t){},225:function(e,t){},299:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n.n(a),s=n(109),r=n.n(s),l=(n(121),n(30)),c=n.n(l),u=n(55),i=n(110),m=n(111),d=n(114),p=n(112),f=n(115),h=(n(125),n(113)),v=new(n.n(h).a)(window.web3.currentProvider),b=new v.eth.Contract(JSON.parse('[{"constant":false,"inputs":[{"name":"_candidateId","type":"uint256"}],"name":"vote","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"candidatesCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"candidates","outputs":[{"name":"id","type":"uint256"},{"name":"name","type":"string"},{"name":"voteCount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"voters","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]'),"0x939de7b82C7F3Db4E32Ce0C76A3a43A60b2967bD"),y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={candidateId:"",message:"",bjpVotes:0,incVotes:0,aapVotes:0,sipVotes:0,notaVotes:0},n.onVote=function(){var e=Object(u.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v.eth.getAccounts();case 3:return a=e.sent,n.setState({message:"Casting your vote... Please wait for 15-30 seconds."}),e.prev=5,e.next=8,b.methods.vote(n.state.candidateId).send({from:a[0]});case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(5),!e.t0.toString().includes("revert")){e.next=15;break}return n.setState({message:"You may not vote twice."}),e.abrupt("return");case 15:n.setState({message:"Your vote has been successfully cast."});case 16:n.setState({message:"Transaction successfully processed."});case 17:case"end":return e.stop()}},e,this,[[5,10]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.eth.getAccounts();case 2:return e.sent,e.t0=this,e.next=6,b.methods.candidates(1).call();case 6:return e.t1=e.sent,e.next=9,b.methods.candidates(2).call();case 9:return e.t2=e.sent,e.next=12,b.methods.candidates(3).call();case 12:return e.t3=e.sent,e.next=15,b.methods.candidates(4).call();case 15:return e.t4=e.sent,e.next=18,b.methods.candidates(5).call();case 18:e.t5=e.sent,e.t6={bjpVotes:e.t1,incVotes:e.t2,aapVotes:e.t3,sipVotes:e.t4,notaVotes:e.t5},e.t0.setState.call(e.t0,e.t6);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h2",null,"Vote for your candidate"),o.a.createElement("hr",null),o.a.createElement("form",{onSubmit:this.onVote},o.a.createElement("h4",null,"Vote for your preferred candidate. The available options are:"),o.a.createElement("ol",null,o.a.createElement("li",null,"BJP"),o.a.createElement("li",null,"INC"),o.a.createElement("li",null,"AAP"),o.a.createElement("li",null,"SIP"),o.a.createElement("li",null,"NOTA")),o.a.createElement("div",null,o.a.createElement("label",null,"S.no of the candidate you want to vote for: "),o.a.createElement("input",{value:this.state.candidateId,onChange:function(t){return e.setState({candidateId:t.target.value})}})),o.a.createElement("button",null,"Vote")),o.a.createElement("hr",null),o.a.createElement("h1",null,this.state.message),o.a.createElement("hr",null),o.a.createElement("ul",null,o.a.createElement("li",null,"Number of votes for BJP: ",this.state.bjpVotes.voteCount),o.a.createElement("li",null,"Number of votes for INC: ",this.state.incVotes.voteCount),o.a.createElement("li",null,"Number of votes for AAP: ",this.state.aapVotes.voteCount),o.a.createElement("li",null,"Number of votes for SIP: ",this.state.sipVotes.voteCount),o.a.createElement("li",null,"Number of votes for NOTA: ",this.state.notaVotes.voteCount)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,2,1]]]);
//# sourceMappingURL=main.dc017ad0.chunk.js.map